<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="EmirSipahi">

<title>IBB_TrafficDensity</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="TrafikDensity_Emir_files/libs/clipboard/clipboard.min.js"></script>
<script src="TrafikDensity_Emir_files/libs/quarto-html/quarto.js"></script>
<script src="TrafikDensity_Emir_files/libs/quarto-html/popper.min.js"></script>
<script src="TrafikDensity_Emir_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="TrafikDensity_Emir_files/libs/quarto-html/anchor.min.js"></script>
<link href="TrafikDensity_Emir_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="TrafikDensity_Emir_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="TrafikDensity_Emir_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="TrafikDensity_Emir_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="TrafikDensity_Emir_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">IBB_TrafficDensity</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>EmirSipahi </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="istanbul-büyükşehir-belediyesi---trafik-yoğunluğu-veri-analizi" class="level2">
<h2 class="anchored" data-anchor-id="istanbul-büyükşehir-belediyesi---trafik-yoğunluğu-veri-analizi">İstanbul Büyükşehir Belediyesi - Trafik Yoğunluğu Veri Analizi</h2>
<p>Bu çalışmada kullanılan veriler <a href="https://data.ibb.gov.tr/dataset/hourly-traffic-density-data-set">Trafik Yoğunluğu (2023)</a> websitesinden elde edilmiştir. Çalışmada 2023 yılı için Ocak - Aralık aylarındaki 12 aylık veri kullanılmıştır. Bu veriler R programı kullanılarak analiz edilmiştir.</p>
<p>Bu veri setinde, <strong>saatlik olarak</strong> İstanbul lokasyon yoğunluk ve trafik bilgisi bulunmaktadır.</p>
</section>
<section id="ocak---2023-aralık-trafik-verisi" class="level2">
<h2 class="anchored" data-anchor-id="ocak---2023-aralık-trafik-verisi">2023 Ocak - 2023 Aralık Trafik Verisi</h2>
<p>When you click the <strong>Render</strong> button a document will be generated that includes both content and the output of embedded code. You can embed code like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'readr' was built under R version 4.2.3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>traffic_density_202301 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"traffic_density_202301.csv"</span>,<span class="at">show_col_types =</span><span class="cn">FALSE</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>traffic_density_202302 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"traffic_density_202302.csv"</span>,<span class="at">show_col_types =</span><span class="cn">FALSE</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>traffic_density_202303 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"traffic_density_202303.csv"</span>,<span class="at">show_col_types =</span><span class="cn">FALSE</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>traffic_density_202304 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"traffic_density_202304.csv"</span>,<span class="at">show_col_types =</span><span class="cn">FALSE</span>)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>traffic_density_202305 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"traffic_density_202305.csv"</span>,<span class="at">show_col_types =</span><span class="cn">FALSE</span>)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>traffic_density_202306 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"traffic_density_202306.csv"</span>,<span class="at">show_col_types =</span><span class="cn">FALSE</span>)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>traffic_density_202307 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"traffic_density_202307.csv"</span>,<span class="at">show_col_types =</span><span class="cn">FALSE</span>)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>traffic_density_202308 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"traffic_density_202308.csv"</span>,<span class="at">show_col_types =</span><span class="cn">FALSE</span>)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>traffic_density_202309 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"traffic_density_202309.csv"</span>,<span class="at">show_col_types =</span><span class="cn">FALSE</span>)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>traffic_density_202310 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"traffic_density__202310.csv"</span>,<span class="at">show_col_types =</span><span class="cn">FALSE</span>)</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>traffic_density_202311 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"traffic_density__202311.csv"</span>,<span class="at">show_col_types =</span><span class="cn">FALSE</span>)</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>traffic_density_202312 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"traffic_density__202312.csv"</span>,<span class="at">show_col_types =</span><span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You can add options to executable code like this</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages("dplyr")</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">warning=</span><span class="cn">FALSE</span>, <span class="at">message=</span><span class="cn">FALSE</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'dplyr' was built under R version 4.2.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>total_traffic_density <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  traffic_density_202301,</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  traffic_density_202302,</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  traffic_density_202303,</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  traffic_density_202304,</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  traffic_density_202305,</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  traffic_density_202306,</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  traffic_density_202307,</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  traffic_density_202308,</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>  traffic_density_202309,</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>  traffic_density_202310,</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>  traffic_density_202311,</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>  traffic_density_202312</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The <code>echo: false</code> option disables the printing of code (only output is displayed).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert DATE_TIME to datetime and ensure it's in the right format</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>total_traffic_density<span class="sc">$</span>DATE_TIME <span class="ot">&lt;-</span> <span class="fu">ymd_hms</span>(total_traffic_density<span class="sc">$</span>DATE_TIME)</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Resample data to hourly frequency</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Aggregating: mean for latitude, longitude, and speed metrics; sum for number of vehicles</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>hourly_data <span class="ot">&lt;-</span> total_traffic_density <span class="sc">%&gt;%</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">HOUR =</span> <span class="fu">floor_date</span>(DATE_TIME, <span class="st">"hour"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(HOUR) <span class="sc">%&gt;%</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">LATITUDE =</span> <span class="fu">mean</span>(LATITUDE, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">LONGITUDE =</span> <span class="fu">mean</span>(LONGITUDE, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">GEOHASH =</span> <span class="fu">first</span>(GEOHASH),  <span class="co"># Assuming geohash doesn't change frequently</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">MAXIMUM_SPEED =</span> <span class="fu">mean</span>(MAXIMUM_SPEED, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">MINIMUM_SPEED =</span> <span class="fu">mean</span>(MINIMUM_SPEED, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">AVERAGE_SPEED =</span> <span class="fu">mean</span>(AVERAGE_SPEED, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">NUMBER_OF_VEHICLES =</span> <span class="fu">sum</span>(NUMBER_OF_VEHICLES, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a><span class="co"># View the first few rows of the resampled data</span></span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(hourly_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 8
  HOUR                LATITUDE LONGITUDE GEOHASH MAXIMUM_SPEED MINIMUM_SPEED
  &lt;dttm&gt;                 &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;           &lt;dbl&gt;         &lt;dbl&gt;
1 2023-01-01 00:00:00     28.9      41.1 sxk6nq           98.5          28.1
2 2023-01-01 01:00:00     28.9      41.1 sxk9rm           96.4          29.0
3 2023-01-01 02:00:00     28.9      41.1 sxk3rg           97.4          30.7
4 2023-01-01 03:00:00     28.9      41.1 sxk9sq           95.8          31.0
5 2023-01-01 04:00:00     28.9      41.1 sxkc39           93.9          31.4
6 2023-01-01 05:00:00     28.9      41.1 sxk6fc           93.1          29.4
# ℹ 2 more variables: AVERAGE_SPEED &lt;dbl&gt;, NUMBER_OF_VEHICLES &lt;dbl&gt;</code></pre>
</div>
</div>
<p>Veri seti saatlik olarak birleştirerek ilgili saat içerisindeki en yüksek hızın (maximum_speed), ortalama hızın (average_speed) ve araç sayısının (vehicle_number) ortalaması alınarak bir pivot tablo haline getirilmiştir.</p>
<p><img src="images/image-1983167887.png" class="img-fluid"></p>
</section>
<section id="kayıp-veri-yaratma" class="level2">
<h2 class="anchored" data-anchor-id="kayıp-veri-yaratma">Kayıp Veri Yaratma</h2>
<p>Rasgele kayıp veriler oluşturmak için bazı hücreleri NA (Not Available) olarak ayarlayacağız. Bu, genellikle veri setlerindeki eksik verilerin temsil edildiği şekildir. Rastgele bir yüzde seçeceğiz ve bu yüzdedeki verileri NA olarak işaretleyeceğiz</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Paketleri güncelleme</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages("rlang")</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages("tidyr")</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages("dplyr")</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages("ggplot2")</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages("lubridate")</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)  <span class="co"># Setting a seed for reproducibility</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to introduce missing values in a column</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>introduce_missing_values <span class="ot">&lt;-</span> <span class="cf">function</span>(data, column_name, <span class="at">missing_fraction =</span> <span class="fl">0.1</span>) {</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>  sample_indices <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(data), <span class="at">size =</span> <span class="fu">nrow</span>(data) <span class="sc">*</span> missing_fraction)</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>  data[sample_indices, column_name] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(data)</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Introduce missing values</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>hourly_data <span class="ot">&lt;-</span> <span class="fu">introduce_missing_values</span>(hourly_data, <span class="st">"AVERAGE_SPEED"</span>)</span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>hourly_data <span class="ot">&lt;-</span> <span class="fu">introduce_missing_values</span>(hourly_data, <span class="st">"NUMBER_OF_VEHICLES"</span>)</span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>hourly_data <span class="ot">&lt;-</span> <span class="fu">introduce_missing_values</span>(hourly_data, <span class="st">"MAXIMUM_SPEED"</span>)</span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Checking the dataset after introducing missing values</span></span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(hourly_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 8
  HOUR                LATITUDE LONGITUDE GEOHASH MAXIMUM_SPEED MINIMUM_SPEED
  &lt;dttm&gt;                 &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;           &lt;dbl&gt;         &lt;dbl&gt;
1 2023-01-01 00:00:00     28.9      41.1 sxk6nq           98.5          28.1
2 2023-01-01 01:00:00     28.9      41.1 sxk9rm           96.4          29.0
3 2023-01-01 02:00:00     28.9      41.1 sxk3rg           97.4          30.7
4 2023-01-01 03:00:00     28.9      41.1 sxk9sq           95.8          31.0
5 2023-01-01 04:00:00     28.9      41.1 sxkc39           93.9          31.4
6 2023-01-01 05:00:00     28.9      41.1 sxk6fc           93.1          29.4
# ℹ 2 more variables: AVERAGE_SPEED &lt;dbl&gt;, NUMBER_OF_VEHICLES &lt;dbl&gt;</code></pre>
</div>
</div>
<p>Bu şekilde veride bazı NA (kayıp veriler) yaratılmıştır. R kodları, eksik değerleri bir veri kümesinin belirli bir sütununa eklemek için tasarlanmıştır. %10 ’u kayıp veri olacak şekilde mevcut veride kayıp veriler yaratılmıştır.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)  <span class="co"># For reproducibility</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to introduce missing values</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>introduce_missing_values <span class="ot">&lt;-</span> <span class="cf">function</span>(data, column_name, <span class="at">missing_fraction =</span> <span class="fl">0.1</span>) {</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  sample_indices <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(data), <span class="at">size =</span> <span class="fu">nrow</span>(data) <span class="sc">*</span> missing_fraction)</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  data[sample_indices, column_name] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(data)</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>İleriye Taşınan Son Gözlem (LOCF),</strong> zaman serisi veya panel verilerindeki eksik verileri doldurmak için kullanılan bir atama yöntemidir. Bu yöntemde eksik olan her değer, kendisinden önceki en güncel, eksik olmayan değerle değiştirilir. Bu yaklaşım çeşitli alanlarda, özellikle klinik araştırmalarda veya panel çalışmalarında yaygın olarak kullanılmaktadır ancak hem avantajları hem de dezavantajları vardır. Konsepti, kullanımlarını ve sonuçlarını inceleyelim:</p>
<p><strong>LOCF Kavramı:</strong></p>
<ul>
<li><p>Uygulama: LOCF genellikle zaman serisi verilerinde veya gözlemlerin zaman içinde yapıldığı boylamsal verilerde uygulanır.</p></li>
<li><p>Yöntem: Belirli bir zaman noktasındaki bir değer eksikse, LOCF bunu mevcut en son gözlemle değiştirir. Örneğin, aylık bir zaman serisinde Mart ayı değeri eksikse, Şubat ayı değeriyle değiştirilecektir (Şubat ayı verilerinin mevcut olduğu varsayılarak).</p></li>
</ul>
<p><strong>Neden Kullanılır:</strong></p>
<p><strong>Verilerde Süreklilik:</strong> Verilerin sürekliliğini korumanın basit bir yolunu sağlayarak her zaman noktasının belirli analiz türleri için hayati önem taşıyan bir değere sahip olmasını sağlar.</p>
<p><strong>Eksikliği Ele Alma:</strong> Eksik verilerin aralıklı olarak oluştuğu veri kümelerinde LOCF, eksik değerlerin bulunduğu satırları kaybetmeden tutarlı bir veri kümesi boyutunun korunmasına yardımcı olur.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Introducing missing values</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>hourly_data<span class="sc">$</span>AVERAGE_SPEED <span class="ot">&lt;-</span> <span class="fu">introduce_missing_values</span>(hourly_data, <span class="st">"AVERAGE_SPEED"</span>, <span class="fl">0.1</span>)<span class="sc">$</span>AVERAGE_SPEED</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>hourly_data<span class="sc">$</span>NUMBER_OF_VEHICLES <span class="ot">&lt;-</span> <span class="fu">introduce_missing_values</span>(hourly_data, <span class="st">"NUMBER_OF_VEHICLES"</span>, <span class="fl">0.1</span>)<span class="sc">$</span>NUMBER_OF_VEHICLES</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>hourly_data<span class="sc">$</span>MAXIMUM_SPEED <span class="ot">&lt;-</span> <span class="fu">introduce_missing_values</span>(hourly_data, <span class="st">"MAXIMUM_SPEED"</span>, <span class="fl">0.1</span>)<span class="sc">$</span>MAXIMUM_SPEED</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filling missing values using zoo's na.locf (Last Observation Carried Forward)</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(zoo)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>hourly_data<span class="sc">$</span>AVERAGE_SPEED <span class="ot">&lt;-</span> <span class="fu">na.locf</span>(hourly_data<span class="sc">$</span>AVERAGE_SPEED, <span class="at">na.rm =</span> <span class="cn">FALSE</span>)</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>hourly_data<span class="sc">$</span>NUMBER_OF_VEHICLES <span class="ot">&lt;-</span> <span class="fu">na.locf</span>(hourly_data<span class="sc">$</span>NUMBER_OF_VEHICLES, <span class="at">na.rm =</span> <span class="cn">FALSE</span>)</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>hourly_data<span class="sc">$</span>MAXIMUM_SPEED <span class="ot">&lt;-</span> <span class="fu">na.locf</span>(hourly_data<span class="sc">$</span>MAXIMUM_SPEED, <span class="at">na.rm =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualization with ggplot2</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(hourly_data, <span class="fu">aes</span>(<span class="at">x =</span> HOUR, <span class="at">y =</span> AVERAGE_SPEED)) <span class="sc">+</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"İstanbul Saatlik Ortalama Hız Trendi"</span>,</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Saat"</span>,</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Ortalama Hız (km/saat)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="TrafikDensity_Emir_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Grafik ayrıca kış aylarında (Aralık-Şubat) trafik hızlarının genellikle yaz aylarına (Haziran-Ağustos) göre daha yavaş olduğunu göstermektedir. Bunun nedeni muhtemelen yaz aylarında İstanbul’da daha fazla turist olması ve yaz aylarında havanın genel olarak daha iyi olması, insanları daha fazla araba kullanmaya teşvik ediyor.</p>
<p>Grafik genel olarak trafik sıkışıklığının İstanbul’da önemli bir sorun olduğunu gösteriyor. Şehrin trafik hızları dünya çapındaki büyük şehirlerin ortalamasının oldukça altındadır. Bunun nedeni şehrin kalabalık nüfusu, sınırlı toplu taşıma altyapısı ve dar sokakları gibi bir dizi faktördür. Hükümet, toplu taşımaya yatırım yapmak ve yeni yollar inşa etmek gibi trafik sorununu çözmeye yönelik adımlar atıyor. Ancak İstanbul’da trafik sıkışıklığının önümüzdeki yıllarda da sorun olmaya devam etmesi muhtemel.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the first few rows of the filled data</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(hourly_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 8
  HOUR                LATITUDE LONGITUDE GEOHASH MAXIMUM_SPEED MINIMUM_SPEED
  &lt;dttm&gt;                 &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;           &lt;dbl&gt;         &lt;dbl&gt;
1 2023-01-01 00:00:00     28.9      41.1 sxk6nq           98.5          28.1
2 2023-01-01 01:00:00     28.9      41.1 sxk9rm           96.4          29.0
3 2023-01-01 02:00:00     28.9      41.1 sxk3rg           97.4          30.7
4 2023-01-01 03:00:00     28.9      41.1 sxk9sq           95.8          31.0
5 2023-01-01 04:00:00     28.9      41.1 sxkc39           93.9          31.4
6 2023-01-01 05:00:00     28.9      41.1 sxk6fc           93.1          29.4
# ℹ 2 more variables: AVERAGE_SPEED &lt;dbl&gt;, NUMBER_OF_VEHICLES &lt;dbl&gt;</code></pre>
</div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>